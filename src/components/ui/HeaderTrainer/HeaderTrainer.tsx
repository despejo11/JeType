import styles from './style.module.scss'
import Play from '@/components/Play/Play'
import { animatePageOut } from '@/utils/transition'
import { THeaderTrainerProps } from './types'
import { usePathname, useRouter } from 'next/navigation'
import { useEffect, useState } from 'react'
import { motion } from 'framer-motion'

export default function HeaderTrainer({
  showInfo,
  setShowInfo,
  testStarted,
}: THeaderTrainerProps) {
  const [isAnimating, setIsAnimating] = useState(showInfo)
  const pathname = usePathname()
  const router = useRouter()

  useEffect(() => {
    if (showInfo) {
      const timeoutId = setTimeout(() => {
        setIsAnimating(true)
      }, 250)

      return () => clearTimeout(timeoutId)
    } else {
      setIsAnimating(false)
    }
  }, [showInfo])

  const handleClick = () => {
    const href = '/'

    if (pathname === href) {
      animatePageOut(href, router)

      setTimeout(() => {
        window.location.reload()
      }, 900)
    } else if (pathname !== href) {
      animatePageOut(href, router)
    }
  }

  const handleIconClick = () => {
    setShowInfo((prevShowInfo) => !prevShowInfo)
  }

  const DURATION = 0.25

  const variants = {
    header: {
      initial: {
        backgroundColor: '#272727',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        backgroundColor: isAnimating || testStarted ? '#c7b9a5' : '#272727',
        pointerEvents: testStarted ? 'none' : ('auto' as 'none' | 'auto'),
      },
      exit: {
        backgroundColor: '#272727',
      },
    },

    logo: {
      initial: {
        rotate: 0,
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        rotate: isAnimating ? 180 : 0,
        transform: testStarted
          ? 'translate(-50%, -50%) scale(1.4)'
          : 'translate(0, 0) scale(1)',
        top: testStarted ? '30%' : 'auto',
        left: testStarted ? '50%' : 'auto',
        transition: {
          duration: DURATION,
          type: 'spring',
          stiffness: 140,
          damping: 17,
        },
      },
      exit: {
        rotate: 0,
      },
    },

    path: {
      initial: {
        fill: '#c7b9a5',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        fill: isAnimating || testStarted ? '#272727' : '#c7b9a5',
      },
      exit: {
        fill: '#c7b9a5',
      },
    },

    icon: {
      initial: {
        borderColor: '#c7b9a5',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        borderColor: isAnimating ? '#272727' : '#c7b9a5',
        opacity: testStarted ? 0 : 1,
      },
      exit: {
        borderColor: '#c7b9a5',
      },
    },

    text: {
      initial: {
        color: '#c7b9a5',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        color: isAnimating ? '#272727' : '#c7b9a5',
        opacity: testStarted ? 0 : 1,
      },
      exit: {
        color: '#c7b9a5',
      },
    },

    music: {
      initial: {
        opacity: 1,
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        opacity: testStarted ? 0 : 1,
      },
      exit: {
        opacity: 1,
      },
    },

    musicPath: {
      initial: {
        fill: '#c7b9a5',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        fill: isAnimating ? '#272727' : '#c7b9a5',
        opacity: testStarted ? 0 : 1,
      },
      exit: {
        fill: '#c7b9a5',
      },
    },

    musicText: {
      initial: {
        color: '#272727',
        transition: {
          delay: 0.4,
          duration: DURATION,
        },
      },
      animate: {
        color: isAnimating ? '#c7b9a5' : '#272727',
        opacity: testStarted ? 0 : 1,
      },
      exit: {
        color: '#272727',
      },
    },
  }

  return (
    <motion.header
      variants={variants.header}
      initial='initial'
      animate='animate'
      exit='exit'
      className={styles.content}
    >
      <motion.svg
        variants={variants.logo}
        initial='initial'
        animate='animate'
        exit='exit'
        className={styles.logo}
        onClick={handleClick}
        width='777'
        height='777'
        viewBox='0 0 777 777'
        fill='none'
        xmlns='http://www.w3.org/2000/svg'
      >
        <motion.path
          variants={variants.path}
          initial='initial'
          animate='animate'
          exit='exit'
          fillRule='evenodd'
          clipRule='evenodd'
          d='M777 388.5C777 603.063 603.063 777 388.5 777C173.937 777 0 603.063 0 388.5C0 173.937 173.937 0 388.5 0C603.063 0 777 173.937 777 388.5ZM388.5 717C569.926 717 717 569.926 717 388.5C717 207.074 569.926 60 388.5 60C207.074 60 60 207.074 60 388.5C60 569.926 207.074 717 388.5 717ZM388.5 738C581.523 738 738 581.523 738 388.5C738 195.476 581.523 39 388.5 39C195.476 39 39 195.476 39 388.5C39 581.523 195.476 738 388.5 738ZM384.842 183.496C379.014 193.119 371.704 207.542 368.596 215.548C356.314 247.198 350.78 287.004 358.661 287.004C366.082 287.004 370.81 283.699 370.81 278.512C370.81 268.463 387.004 225.036 396.703 209.075C402.057 200.262 411.088 188.006 416.773 181.839C428.082 169.567 427.78 169.083 407.652 167.164L395.438 166L384.842 183.496ZM344.732 169.808C329.204 172.759 318.269 239.137 326.006 283.479C327.613 292.697 329.445 300.237 330.076 300.237C330.708 300.237 334.16 298.318 337.748 295.971C343.738 292.054 344.135 290.553 342.619 277.673C339.649 252.462 350.003 203.215 363.919 176.356L368.294 167.911L359.61 168.271C354.832 168.469 348.137 169.16 344.732 169.808ZM408.269 224.202C413.008 217.261 424.614 203.538 434.059 193.714C443.501 183.89 451.583 175.85 452.021 175.85C452.456 175.85 459.538 178.362 467.76 181.432L482.71 187.016L472.342 194.003C442.65 214.021 420.819 238.017 405.191 267.817C397.53 282.423 395.6 284.358 388.679 284.358C381.472 284.358 380.982 283.773 382.599 277.08C385.325 265.79 398.734 238.168 408.269 224.202ZM297.229 185.256L283.308 191.43V216.861C283.308 246.245 288.499 272.308 299.819 299.739L307.803 319.093L314.196 313.099C318.054 309.481 319.939 305.482 318.956 303.01C307.803 274.989 303.277 221.381 309.694 193.362C311.324 186.256 312.316 180.135 311.902 179.762C311.489 179.386 304.884 181.861 297.229 185.256ZM413.594 275.754C431.243 250.546 462.648 222.866 491.442 207.14C504.01 200.275 505.023 200.124 511.329 204.195C523.5 212.05 529.739 216.856 529.824 218.438C529.869 219.298 524.833 221.5 518.637 223.329C494.306 230.512 465.411 248.175 443.777 269.09C432.083 280.393 422.296 289.646 422.026 289.648C421.755 289.648 418.396 288.46 414.556 287.002L407.575 284.352L413.594 275.754ZM246.938 216.842C236.515 225.748 236.213 226.449 238.485 236.535C245.294 266.785 260.867 300.105 279.471 324.238C286.126 332.871 291.962 339.935 292.437 339.935C292.914 339.935 295.351 336.817 297.854 333.006C302.214 326.363 302.168 325.76 296.772 318.474C288.208 306.914 273.749 276.839 268.917 260.539C266.544 252.533 263.863 237.348 262.959 226.796C262.055 216.244 260.515 207.609 259.531 207.609C258.55 207.609 252.883 211.764 246.938 216.842ZM494.512 253.618C503.04 249.845 518.372 244.565 528.58 241.884C538.789 239.205 547.955 236.945 548.952 236.866C551.015 236.699 569.68 258.859 569.68 261.473C569.68 262.416 564.013 263.207 557.085 263.231C528.994 263.334 487.754 276.429 462.147 293.38C449.486 301.759 448.335 302.037 441.369 298.395C434.205 294.648 434.13 294.388 438.768 289.272C446.121 281.166 477.248 261.254 494.512 253.618ZM209.501 255.064C204.884 261.423 201.108 268.463 201.108 270.707C201.108 277.921 222.024 310.198 237.647 327.094C245.989 336.116 259.947 348.753 268.668 355.179L284.519 366.863L286.681 358.537C288.688 350.812 287.874 349.343 275.353 338.109C253.276 318.299 232.479 286.327 222.382 256.683L217.893 243.501L209.501 255.064ZM459.899 307.756C461.903 304.519 496.506 292.168 513.996 288.447C523.476 286.43 543.315 284.683 558.084 284.567L584.937 284.358L590.75 297.847C593.947 305.268 596.058 311.842 595.44 312.459C594.822 313.075 587.995 312.226 580.268 310.572C559.135 306.049 505.922 308.857 485.123 315.595L468.18 321.084L463.491 315.306C460.911 312.128 459.297 308.73 459.899 307.756ZM185.199 293.523C185.199 294.198 182.818 300.779 179.906 308.15L174.613 321.549L185.634 333.483C201.845 351.037 226.129 368.472 250.163 379.813C281.438 394.57 283.308 394.882 283.308 385.344C283.308 378.267 281.269 376.348 263.27 366.487C240.506 354.02 208.169 324.762 195.683 305.339C188.012 293.409 185.199 290.238 185.199 293.523ZM479.55 337.608C475.954 329.732 476.23 329.489 491.861 326.649C522.11 321.155 592.911 330.122 603.231 340.755C604.912 342.486 607.123 350.235 608.144 357.973L610 372.045L593.947 363.957C567.951 350.86 540.337 344.376 509.481 344.124C483.659 343.915 482.294 343.616 479.55 337.608ZM168.303 349.973C167.65 351.026 166.746 357.833 166.295 365.098C165.474 378.308 165.476 378.309 178.647 386.931L178.652 386.934C204.158 403.634 252.395 419.331 278.201 419.331C285.593 419.331 286.389 418.632 284.978 413.376C284.1 410.102 283.363 406.688 283.345 405.794C283.324 404.899 274.658 402.118 264.084 399.617C238.488 393.556 206.189 377.748 185.962 361.385C176.902 354.054 168.955 348.92 168.303 349.973ZM509.868 375.369C491.826 371.124 490.535 370.341 489.453 362.983L488.297 355.129L506.797 356.846C536.41 359.593 587.326 379.339 604.813 394.861C609.56 399.071 610.605 412.042 607.179 424.213L605.431 430.422L600.149 424.563C583.102 405.643 540.974 382.689 509.868 375.369ZM492.805 390.88C492.826 398.783 494.258 400.236 510.422 408.744C531.937 420.069 563.112 448.538 577.417 469.919L588.042 485.798L592.197 475.876C600.621 455.752 600.563 455.527 582.5 437.15C563.536 417.859 536.5 399.45 512.087 389.203C503.016 385.394 494.963 382.279 494.189 382.279C493.417 382.279 492.794 386.148 492.805 390.88ZM186.612 441.024C169.711 435.945 167.462 432.942 166.903 414.699L166.902 414.686C166.763 410.157 166.686 407.665 167.804 406.885C169.172 405.93 172.329 407.537 179.347 411.11L179.357 411.116C202.919 423.115 223.05 427.794 257.184 429.21C289.786 430.56 290.806 430.785 293.744 437.216C295.404 440.855 296.324 444.274 295.783 444.811C295.245 445.349 284.997 447.106 273.009 448.718C248.094 452.063 212.932 448.932 186.612 441.024ZM487.968 419.071C485.497 426.151 486.086 427.394 495.51 434.95C516.094 451.462 540.998 489.62 550.196 518.747C552.654 526.528 555.735 532.231 557.042 531.424C558.352 530.617 562.884 525.189 567.11 519.364L574.797 508.773L567.906 495.148C558.212 475.987 546.887 459.978 531.462 443.626C519.544 430.991 495.562 411.391 492.025 411.391C491.27 411.391 489.443 414.847 487.968 419.071ZM476.866 457.208C473.711 452.285 473.697 450.395 476.787 444.637C478.786 440.908 481.212 437.856 482.18 437.856C486.107 437.856 507.434 469.641 516.81 489.463C527.008 511.025 535.289 538.146 535.111 549.391C535.045 553.544 531.282 558.461 523.855 564.106L512.697 572.586L509.627 548.227C505.312 513.997 495.101 485.629 476.866 457.208ZM284.633 459.653C272.264 463.842 261.35 465.107 235.579 465.343C217.349 465.51 196.746 464.676 189.794 463.49L177.151 461.336L181.595 472.753C188.473 490.427 189.075 490.787 211.746 490.787C238.801 490.787 272.068 484.332 295.855 474.466L315.031 466.513L310.439 460.209L310.43 460.197L310.43 460.197L310.43 460.196C308.543 457.606 307.313 455.917 305.654 455.106C302.545 453.586 297.929 455.15 284.664 459.643L284.663 459.643L284.633 459.653ZM453.198 471.081L459.069 464.816L464.942 458.555L472.067 474.008C475.986 482.508 481.178 497.8 483.604 507.989C488.647 529.159 491.617 580.411 488.096 585.482C486.802 587.345 479.422 591.267 471.701 594.197C459.854 598.688 457.905 598.879 459.238 595.412C468.057 572.474 467.737 517.014 458.62 488.212L453.198 471.081ZM317.945 476.03C312.91 482.085 272.807 500.703 255.209 505.157C246.318 507.407 231.013 510.154 221.199 511.265L203.354 513.282L211.529 524.53C216.668 531.601 221.769 535.778 225.27 535.778C247.036 535.778 301.885 512.028 324.02 493.018L336.894 481.963L330.649 477.17C323.052 471.34 321.931 471.24 317.945 476.03ZM429.145 510.297C429.145 486.113 429.278 485.592 436.437 481.841C440.446 479.74 444.061 478.345 444.466 478.742C444.872 479.142 446.344 489.44 447.736 501.629C450.838 528.77 447.362 563.397 439.041 588.24L433.123 605.911L419.144 608.276C411.454 609.579 404.671 610.153 404.069 609.555C403.47 608.954 406.506 601.125 410.818 592.156C422.731 567.385 429.145 538.731 429.145 510.297ZM338.784 495.397C317.797 519.255 285.318 540.607 253.697 551.334L240.177 555.92L253.125 565.54L266.072 575.158L283.308 565.747C313.639 549.185 342.454 523.389 358.578 498.361C363.03 491.451 362.996 491.353 355.129 488.617C347.808 486.068 346.519 486.603 338.784 495.397ZM398.782 507.989C399.821 502.167 401.852 495.916 403.3 494.095C404.745 492.277 408.906 490.787 412.541 490.787C419.024 490.787 419.114 491.073 417.285 505.679C414.294 529.582 408.527 548.801 397.26 572.419C379.062 610.558 376.113 612.924 352.607 608.232L344.347 606.583L354.575 594.337C376.304 568.317 394.295 533.176 398.782 507.989ZM366.788 507.327C352.005 535.741 331.917 558.162 303.873 577.545L288.643 588.07L301.715 593.684C308.903 596.769 315.877 599.294 317.214 599.294C321.496 599.294 352.315 567.147 362.675 551.876C374.438 534.531 379.38 525.252 386.624 506.904L391.946 493.433H382.981C374.854 493.433 373.343 494.73 366.788 507.327Z'
        />
      </motion.svg>

      <svg
        className={styles.logoHidden}
        width='777'
        height='777'
        viewBox='0 0 777 777'
        fill='none'
        xmlns='http://www.w3.org/2000/svg'
      >
        <path
          fillRule='evenodd'
          clipRule='evenodd'
          d='M777 388.5C777 603.063 603.063 777 388.5 777C173.937 777 0 603.063 0 388.5C0 173.937 173.937 0 388.5 0C603.063 0 777 173.937 777 388.5ZM388.5 717C569.926 717 717 569.926 717 388.5C717 207.074 569.926 60 388.5 60C207.074 60 60 207.074 60 388.5C60 569.926 207.074 717 388.5 717ZM388.5 738C581.523 738 738 581.523 738 388.5C738 195.476 581.523 39 388.5 39C195.476 39 39 195.476 39 388.5C39 581.523 195.476 738 388.5 738ZM384.842 183.496C379.014 193.119 371.704 207.542 368.596 215.548C356.314 247.198 350.78 287.004 358.661 287.004C366.082 287.004 370.81 283.699 370.81 278.512C370.81 268.463 387.004 225.036 396.703 209.075C402.057 200.262 411.088 188.006 416.773 181.839C428.082 169.567 427.78 169.083 407.652 167.164L395.438 166L384.842 183.496ZM344.732 169.808C329.204 172.759 318.269 239.137 326.006 283.479C327.613 292.697 329.445 300.237 330.076 300.237C330.708 300.237 334.16 298.318 337.748 295.971C343.738 292.054 344.135 290.553 342.619 277.673C339.649 252.462 350.003 203.215 363.919 176.356L368.294 167.911L359.61 168.271C354.832 168.469 348.137 169.16 344.732 169.808ZM408.269 224.202C413.008 217.261 424.614 203.538 434.059 193.714C443.501 183.89 451.583 175.85 452.021 175.85C452.456 175.85 459.538 178.362 467.76 181.432L482.71 187.016L472.342 194.003C442.65 214.021 420.819 238.017 405.191 267.817C397.53 282.423 395.6 284.358 388.679 284.358C381.472 284.358 380.982 283.773 382.599 277.08C385.325 265.79 398.734 238.168 408.269 224.202ZM297.229 185.256L283.308 191.43V216.861C283.308 246.245 288.499 272.308 299.819 299.739L307.803 319.093L314.196 313.099C318.054 309.481 319.939 305.482 318.956 303.01C307.803 274.989 303.277 221.381 309.694 193.362C311.324 186.256 312.316 180.135 311.902 179.762C311.489 179.386 304.884 181.861 297.229 185.256ZM413.594 275.754C431.243 250.546 462.648 222.866 491.442 207.14C504.01 200.275 505.023 200.124 511.329 204.195C523.5 212.05 529.739 216.856 529.824 218.438C529.869 219.298 524.833 221.5 518.637 223.329C494.306 230.512 465.411 248.175 443.777 269.09C432.083 280.393 422.296 289.646 422.026 289.648C421.755 289.648 418.396 288.46 414.556 287.002L407.575 284.352L413.594 275.754ZM246.938 216.842C236.515 225.748 236.213 226.449 238.485 236.535C245.294 266.785 260.867 300.105 279.471 324.238C286.126 332.871 291.962 339.935 292.437 339.935C292.914 339.935 295.351 336.817 297.854 333.006C302.214 326.363 302.168 325.76 296.772 318.474C288.208 306.914 273.749 276.839 268.917 260.539C266.544 252.533 263.863 237.348 262.959 226.796C262.055 216.244 260.515 207.609 259.531 207.609C258.55 207.609 252.883 211.764 246.938 216.842ZM494.512 253.618C503.04 249.845 518.372 244.565 528.58 241.884C538.789 239.205 547.955 236.945 548.952 236.866C551.015 236.699 569.68 258.859 569.68 261.473C569.68 262.416 564.013 263.207 557.085 263.231C528.994 263.334 487.754 276.429 462.147 293.38C449.486 301.759 448.335 302.037 441.369 298.395C434.205 294.648 434.13 294.388 438.768 289.272C446.121 281.166 477.248 261.254 494.512 253.618ZM209.501 255.064C204.884 261.423 201.108 268.463 201.108 270.707C201.108 277.921 222.024 310.198 237.647 327.094C245.989 336.116 259.947 348.753 268.668 355.179L284.519 366.863L286.681 358.537C288.688 350.812 287.874 349.343 275.353 338.109C253.276 318.299 232.479 286.327 222.382 256.683L217.893 243.501L209.501 255.064ZM459.899 307.756C461.903 304.519 496.506 292.168 513.996 288.447C523.476 286.43 543.315 284.683 558.084 284.567L584.937 284.358L590.75 297.847C593.947 305.268 596.058 311.842 595.44 312.459C594.822 313.075 587.995 312.226 580.268 310.572C559.135 306.049 505.922 308.857 485.123 315.595L468.18 321.084L463.491 315.306C460.911 312.128 459.297 308.73 459.899 307.756ZM185.199 293.523C185.199 294.198 182.818 300.779 179.906 308.15L174.613 321.549L185.634 333.483C201.845 351.037 226.129 368.472 250.163 379.813C281.438 394.57 283.308 394.882 283.308 385.344C283.308 378.267 281.269 376.348 263.27 366.487C240.506 354.02 208.169 324.762 195.683 305.339C188.012 293.409 185.199 290.238 185.199 293.523ZM479.55 337.608C475.954 329.732 476.23 329.489 491.861 326.649C522.11 321.155 592.911 330.122 603.231 340.755C604.912 342.486 607.123 350.235 608.144 357.973L610 372.045L593.947 363.957C567.951 350.86 540.337 344.376 509.481 344.124C483.659 343.915 482.294 343.616 479.55 337.608ZM168.303 349.973C167.65 351.026 166.746 357.833 166.295 365.098C165.474 378.308 165.476 378.309 178.647 386.931L178.652 386.934C204.158 403.634 252.395 419.331 278.201 419.331C285.593 419.331 286.389 418.632 284.978 413.376C284.1 410.102 283.363 406.688 283.345 405.794C283.324 404.899 274.658 402.118 264.084 399.617C238.488 393.556 206.189 377.748 185.962 361.385C176.902 354.054 168.955 348.92 168.303 349.973ZM509.868 375.369C491.826 371.124 490.535 370.341 489.453 362.983L488.297 355.129L506.797 356.846C536.41 359.593 587.326 379.339 604.813 394.861C609.56 399.071 610.605 412.042 607.179 424.213L605.431 430.422L600.149 424.563C583.102 405.643 540.974 382.689 509.868 375.369ZM492.805 390.88C492.826 398.783 494.258 400.236 510.422 408.744C531.937 420.069 563.112 448.538 577.417 469.919L588.042 485.798L592.197 475.876C600.621 455.752 600.563 455.527 582.5 437.15C563.536 417.859 536.5 399.45 512.087 389.203C503.016 385.394 494.963 382.279 494.189 382.279C493.417 382.279 492.794 386.148 492.805 390.88ZM186.612 441.024C169.711 435.945 167.462 432.942 166.903 414.699L166.902 414.686C166.763 410.157 166.686 407.665 167.804 406.885C169.172 405.93 172.329 407.537 179.347 411.11L179.357 411.116C202.919 423.115 223.05 427.794 257.184 429.21C289.786 430.56 290.806 430.785 293.744 437.216C295.404 440.855 296.324 444.274 295.783 444.811C295.245 445.349 284.997 447.106 273.009 448.718C248.094 452.063 212.932 448.932 186.612 441.024ZM487.968 419.071C485.497 426.151 486.086 427.394 495.51 434.95C516.094 451.462 540.998 489.62 550.196 518.747C552.654 526.528 555.735 532.231 557.042 531.424C558.352 530.617 562.884 525.189 567.11 519.364L574.797 508.773L567.906 495.148C558.212 475.987 546.887 459.978 531.462 443.626C519.544 430.991 495.562 411.391 492.025 411.391C491.27 411.391 489.443 414.847 487.968 419.071ZM476.866 457.208C473.711 452.285 473.697 450.395 476.787 444.637C478.786 440.908 481.212 437.856 482.18 437.856C486.107 437.856 507.434 469.641 516.81 489.463C527.008 511.025 535.289 538.146 535.111 549.391C535.045 553.544 531.282 558.461 523.855 564.106L512.697 572.586L509.627 548.227C505.312 513.997 495.101 485.629 476.866 457.208ZM284.633 459.653C272.264 463.842 261.35 465.107 235.579 465.343C217.349 465.51 196.746 464.676 189.794 463.49L177.151 461.336L181.595 472.753C188.473 490.427 189.075 490.787 211.746 490.787C238.801 490.787 272.068 484.332 295.855 474.466L315.031 466.513L310.439 460.209L310.43 460.197L310.43 460.197L310.43 460.196C308.543 457.606 307.313 455.917 305.654 455.106C302.545 453.586 297.929 455.15 284.664 459.643L284.663 459.643L284.633 459.653ZM453.198 471.081L459.069 464.816L464.942 458.555L472.067 474.008C475.986 482.508 481.178 497.8 483.604 507.989C488.647 529.159 491.617 580.411 488.096 585.482C486.802 587.345 479.422 591.267 471.701 594.197C459.854 598.688 457.905 598.879 459.238 595.412C468.057 572.474 467.737 517.014 458.62 488.212L453.198 471.081ZM317.945 476.03C312.91 482.085 272.807 500.703 255.209 505.157C246.318 507.407 231.013 510.154 221.199 511.265L203.354 513.282L211.529 524.53C216.668 531.601 221.769 535.778 225.27 535.778C247.036 535.778 301.885 512.028 324.02 493.018L336.894 481.963L330.649 477.17C323.052 471.34 321.931 471.24 317.945 476.03ZM429.145 510.297C429.145 486.113 429.278 485.592 436.437 481.841C440.446 479.74 444.061 478.345 444.466 478.742C444.872 479.142 446.344 489.44 447.736 501.629C450.838 528.77 447.362 563.397 439.041 588.24L433.123 605.911L419.144 608.276C411.454 609.579 404.671 610.153 404.069 609.555C403.47 608.954 406.506 601.125 410.818 592.156C422.731 567.385 429.145 538.731 429.145 510.297ZM338.784 495.397C317.797 519.255 285.318 540.607 253.697 551.334L240.177 555.92L253.125 565.54L266.072 575.158L283.308 565.747C313.639 549.185 342.454 523.389 358.578 498.361C363.03 491.451 362.996 491.353 355.129 488.617C347.808 486.068 346.519 486.603 338.784 495.397ZM398.782 507.989C399.821 502.167 401.852 495.916 403.3 494.095C404.745 492.277 408.906 490.787 412.541 490.787C419.024 490.787 419.114 491.073 417.285 505.679C414.294 529.582 408.527 548.801 397.26 572.419C379.062 610.558 376.113 612.924 352.607 608.232L344.347 606.583L354.575 594.337C376.304 568.317 394.295 533.176 398.782 507.989ZM366.788 507.327C352.005 535.741 331.917 558.162 303.873 577.545L288.643 588.07L301.715 593.684C308.903 596.769 315.877 599.294 317.214 599.294C321.496 599.294 352.315 567.147 362.675 551.876C374.438 534.531 379.38 525.252 386.624 506.904L391.946 493.433H382.981C374.854 493.433 373.343 494.73 366.788 507.327Z'
        />
      </svg>

      <motion.div
        variants={variants.icon}
        initial='initial'
        animate='animate'
        exit='exit'
        className={styles.icon}
        onClick={handleIconClick}
      >
        {!isAnimating ? (
          <motion.p
            variants={variants.text}
            initial='initial'
            animate='animate'
            exit='exit'
            className={styles.first}
          >
            i
          </motion.p>
        ) : (
          <motion.p
            variants={variants.text}
            initial='initial'
            animate='animate'
            exit='exit'
            className={styles.second}
          >
            i
          </motion.p>
        )}
      </motion.div>

      <motion.div
        variants={variants.music}
        initial='initial'
        animate='animate'
        exit='exit'
        className={styles.music}
      >
        <svg
          className={styles.background}
          width='220'
          height='40'
          viewBox='0 0 220 40'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <motion.path
            variants={variants.musicPath}
            initial='initial'
            animate='animate'
            exit='exit'
            fillRule='evenodd'
            clipRule='evenodd'
            d='M220 0H0V20.7574L19.2426 40H220V0ZM15 40L0 25V40H15Z'
          />
        </svg>

        <motion.p
          variants={variants.musicText}
          initial='initial'
          animate='animate'
          exit='exit'
        >
          do you want some music?
        </motion.p>
        <Play />
      </motion.div>
    </motion.header>
  )
}
